---
- name: Create VLAN on Switches
  hosts: ios
  connection: network_cli
  gather_facts: false
  vars:
    vlan_id: 10
    vlan_name: TAC VLAN
    interface: Ethernet0/1
  tasks:
  
  
  - name: Making Interface {{interface}} trunk and allow VLAN {{vlan_id}}
    ios_l2_interfaces:
      config:
      - name: Ethernet0/1
        trunk:
          allowed_vlans: 10,20,20,30,40
          native_vlan: 10
          encapsulation: dot1q
      state: merged       




